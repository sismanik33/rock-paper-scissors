<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    // Your JavaScript goes here!
    
function game() {
    let playerScore = 0;
    let computerScore = 0;
    let roundCount = 0;
    let scoreBoard;
    let gameWinner = false;

    while (!gameWinner) {
        const playerSelection = userPlay();
        const computerSelection = computerPlay();
        console.log(playRound(playerSelection, computerSelection))        
        scoreBoard = console.log(score()); 
        if(playerScore == 3 || computerScore == 3)
        {
            let winner =console.log(announceWinner());
            break;
        }        
    }

    function announceWinner() {
        gameWinner = true;
        return (playerScore == 3 ? 'You Win! This game is over.' : 'Game Over. Computer Wins!')
    }

    function score() {
        return 'The score is:\nYou: ' + playerScore +'\nComputer: ' + computerScore;
    }

    function computerPlay() {   //get the computers move
        rand = Math.floor(Math.random() * 3);
        switch (rand) {
            case 0:
                return 'rock';
            case 1:
                return 'paper';
            case 2:
                return 'scissors';
            default:
                alert('something went wrong');
                return '';
        }
    }
    function userPlay() {   //prompt player for their move
        move = prompt('Pick your move (Rock/Paper/Scissors):', '');
        if(move.toLowerCase() === 'rock' || move.toLowerCase() === 'paper' || move.toLowerCase() === 'scissors'){            
            return move.toLowerCase();
        }
        alert('Please enter \'Rock\', \'Paper\', or \'Scissors\'!');
            userPlay();        
    }

    function playRound(playerSelection, computerSelection) {
        switch (playerSelection) {
            case 'rock': 
                switch (computerSelection) {
                    case 'rock':
                        return tie();
                    case 'paper':
                        return youLose(playerSelection, computerSelection);                    
                    case 'scissors':
                        return youWin(playerSelection, computerSelection);
                }
            case 'paper':
                switch (computerSelection) {
                    case 'rock':
                        return youWin(playerSelection, computerSelection);
                    case 'paper':
                        return tie();                    
                    case 'scissors':
                        return youLose(playerSelection, computerSelection);
                }

            case 'scissors':
                switch (computerSelection) {
                    case 'rock':
                        return youLose(playerSelection, computerSelection);
                    case 'paper':
                        return youWin(playerSelection, computerSelection);
                    case 'scissors':
                        return tie();
                }
        }
    }

    function tie() {
        return 'Tie game, let\'s try again';      
    }
    
    function youLose(player, computer) {
        ++roundCount;
        ++computerScore;
        return 'You Lose! ' + computer.charAt(0).toUpperCase() + computer.slice(1) + ' beats ' + player.charAt(0).toUpperCase() + player.slice(1);      
    }
    
    function youWin(player, computer) {
        ++roundCount;
        ++playerScore;
        return 'You Win! ' + player.charAt(0).toUpperCase() + player.slice(1)+ ' beats ' + computer.charAt(0).toUpperCase() + computer.slice(1);
    }          
       
}

game();

  </script>
</body>
</html>
